{% load static %}
    <div class="widgets-container">
        <div class="blog-author-widget widget-item">
            <div class="d-flex flex-column align-items-center">
                <div class="d-flex align-items-center w-100">
                    <img src="{% static 'assets/images/profile.jpg' %}" alt="" class="rounded-circle flex-shrink-0" loading="lazy">
                    <div>
                        <h4>{{ article.author.get_full_name | default:article.author.username|capfirst }}</h4>
                        <div class="social-links mt-2">
                            {% with social=article.author.profile.social_media.first %}
                                {% if social.twitter_x %}
                                    <a href="{{ social.twitter_x }}" target="_blank" class="twitter"><i class="bi bi-twitter"></i></a>
                                {% endif %}
                                {% if social.facebook %}
                                    <a href="{{ social.facebook }}" target="_blank" class="facebook"><i class="bi bi-facebook"></i></a>
                                {% endif %}
                                {% if social.linkedin %}
                                    <a href="{{ social.linkedin }}" target="_blank" class="linkedin"><i class="bi bi-linkedin"></i></a>
                                {% endif %}
                                {% if social.github %}
                                    <a href="{{ social.github }}" target="_blank" class="github"><i class="bi bi-github"></i></a>
                                {% endif %}
                                {% if social.youtube %}
                                    <a href="{{ social.youtube }}" target="_blank" class="youtube"><i class="bi bi-youtube"></i></a>
                                {% endif %}
                                {% if social.whatsapp %}
                                    <a href="https://wa.me/{{ social.whatsapp }}" target="_blank" class="whatsapp"><i class="bi bi-whatsapp"></i></a>
                                {% endif %}
                            {% endwith %}
                        </div>
                    </div>
                </div>
                <p>
                    {{ article.author.profile.bio | default:"Author Bio" }}
                </p>
            </div>
        </div>
        <div class="search-widget widget-item">
            <h3 class="widget-title">Search the Blog</h3>
            <form id="search-form" action="{% url 'blog:list_articles' %}" method="get">
                <input type="search" name="q"
                    class="form-control"
                    placeholder="Search..."
                    required>
                <button type="submit" id="submitButton"
                    data-loading-text="{{ data_loading_text }}">
                    <i class="bi bi-search"></i>
                </button>
            </form>
        </div>
        <!-- End widget search form-->
        <div class="tags-widget widget-item">
           <h3 class="widget-title">Article Tags</h3>
           <ul>
               {% for tag, count in all_tags %}
               <li>
                   <a href="{% url 'blog:articles_by_tag' tag %}">{{ tag }} ({{ count }})</a>
               </li>
               {% endfor %}
           </ul>
       </div>
        {% if other_posts%}
        <div class="recent-posts-widget widget-item">
            <h3 class="widget-title">Recent Articles</h3>
            {% for article in other_posts %}
            <div class="post-item">
                {% if article.optimized_image_url %}
                <img src="{{ article.optimized_image_url }}" alt="{{ article.title }}" class="flex-shrink-0" loading="lazy">
                {% endif %}
                <div>
                    <h4><a href="{% url 'blog:article_details' article.slug %}">{{ article.title }}</a></h4>
                    <time datetime="{{ article.first_published_at }}">{{ article.first_published_at | date:"N j, Y" }}</time>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <!-- End widget tags-->
